(this["webpackJsonpbitcoin-app"]=this["webpackJsonpbitcoin-app"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(5),i=n.n(c),s=(n(11),n(6)),o=n(2),u=(n(12),n.p+"static/media/background2.4062aecc.jpg"),d=n(0);function l(e){var t=e.longestBear;return Object(d.jsx)("div",{id:"bear",children:void 0!==t&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Bear data"}),Object(d.jsxs)("p",{children:["Longest bearish trend in the date range was ",t," days"]})]})})}function j(e){var t=e.topVolumeDate,n=e.topVolume;return Object(d.jsx)("div",{id:"volume",children:void 0!==t&&void 0!==n&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Highest trading volume"}),Object(d.jsxs)("p",{children:["The highest trading volume in the date range was on ",t," ","with a total trading volume of ",n]})]})})}function b(e){var t=e.buyDate,n=e.sellDate;return Object(d.jsx)("div",{id:"timetravel",children:void 0!==t&&void 0!==n&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Instructions for Scrooge's time travel adventure"}),Object(d.jsxs)("p",{children:[Object(d.jsx)("b",{children:"Buy:"})," ",t," ",Object(d.jsx)("b",{children:"Sell:"})," ",n]})]})})}var h=function(){var e,t=Object(r.useState)(),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(),h=Object(o.a)(i,2),g=h[0],v=h[1],O=Object(r.useState)(),f=Object(o.a)(O,2),p=f[0],m=f[1],x=Object(r.useState)(),D=Object(o.a)(x,2),S=D[0],T=D[1],w=Object(r.useState)(),y=Object(o.a)(w,2),C=y[0],k=y[1],U=Object(r.useState)(),B=Object(o.a)(U,2),F=B[0],I=B[1],q=Object(r.useState)(),E=Object(o.a)(q,2),L=E[0],M=E[1],N=Object(r.useState)(!1),V=Object(o.a)(N,2),P=V[0],Y=V[1],_=function(e){var t,n=[],r=[],a=J(),c=Object(s.a)(a);try{var i=function(){var a=t.value,c=e.prices.find((function(e){return z(a,K(e[0]))}));n.push([K(c[0]),c[1]]);var i=e.total_volumes.find((function(e){return z(a,K(e[0]))}));r.push([K(i[0]),i[1]])};for(c.s();!(t=c.n()).done;)i()}catch(o){c.e(o)}finally{c.f()}return n.length!==a.length&&Y(!0),{prices:n,volumes:r}},J=function(){for(var e=(new Date(g).getTime()-new Date(a).getTime())/864e5,t=new Date(a),n=[new Date(a)],r=0;r<e;r++){var c=new Date(t);c.setDate(c.getDate()+1),n.push(c),t=c}return n},z=function(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()},A=function(e){for(var t,n,r=0,a=0;a<e.length;a++)for(var c=e[a][1],i=a+1;i<e.length;i++){var s=e[i][1];s-c>r&&(r=s-c,t=e[a][0],n=e[i][0])}if(void 0===t||void 0===n||0===r)return I("DON'T BUY!"),void M("DON'T SELL!");I(t.toDateString()),M(n.toDateString())},H=function(e){for(var t=[],n=[],r=1;r<e.length;r++)e[r][1]<e[r-1][1]?(t.push(e[r]),t.length>n.length&&(n=t)):t=[];m(n.length)},R=function(e){for(var t=e[0],n=1;n<e.length;n++)e[n][1]>t[1]&&(t=e[n]);k(t[1]),T(K(t[0]).toDateString())},G=function(e){return new Date(""+e).getTime()/1e3},K=function(e){return new Date(e)};return Object(d.jsxs)("div",{className:"App",id:"app",style:{backgroundImage:"url(".concat(u,")"),backgroundSize:"70% 100%",margin:"0"},children:[Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=G(a),n=G(g)+3600,r="https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range?vs_currency=eur&from=".concat(t,"&to=").concat(n);fetch(r).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.statusText)})).then((function(e){var t=_(e);H(t.prices),R(t.volumes),A(t.prices)})).catch((function(e){alert(e.message)}))},children:[Object(d.jsx)("h2",{children:"Pick a start and an end date"}),Object(d.jsx)("div",{id:"dateform",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("label",{children:["Start",Object(d.jsx)("input",{type:"date",id:"start",onChange:function(e){return c(e.target.value)},required:"required",max:new Date(Date.now()-864e5).toISOString().split("T")[0]})]}),Object(d.jsxs)("label",{children:["End",Object(d.jsx)("input",{type:"date",id:"start",onChange:function(e){return v(e.target.value)},required:"required",max:(new Date).toISOString().split("T")[0]})]}),Object(d.jsx)("button",{type:"submit",children:"Make query"})]})})]}),P&&Object(d.jsx)("p",{children:"The price data is missing some datapoints"}),Object(d.jsx)(l,{longestBear:p}),Object(d.jsx)(j,{topVolume:(e=C,new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(e)),topVolumeDate:S}),Object(d.jsx)(b,{buyDate:F,sellDate:L})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),g()}},[[14,1,2]]]);
//# sourceMappingURL=main.162ab6e3.chunk.js.map